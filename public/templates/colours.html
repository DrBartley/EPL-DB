<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
    
    <link rel="stylesheet" type="text/css" href="epl.css" />
    
    <title>EPLDB</title>
</head>

<body id="bootstrap_1pxdeep" data-spy="scroll" data-target="#epl_navbar" ng-controller="AppController">
    <nav id="epl_navbar" class="navbar navbar-fixed-top" role="navigation">
        <div class="navbar-header">
            <a class="navbar-brand">EPLDB</a>
        </div>

        <div id="epl_navbar_nav" class="collapse navbar-collapse">
            <form class="navbar-form navbar-left" role="search">
                <div class="form-group">
                    <input type="text" class="form-control" focus-on="focusMe" ng-model="team" typeahead="name for name in teamnames | filter:$viewValue" typeahead-editable="false">
                </div>
            </form>
            <span ng-if="settingsToggle">
                <div class="btn-group" id="top-toggles">
                    <button type="button" class="btn btn-default color3" ng-model="checkModel.leaguetable" btn-checkbox>League Table</button>
                    <button type="button" class="btn btn-default color3" ng-model="checkModel.oppoform" btn-checkbox>Opponent Form</button>
                    <button type="button" class="btn btn-default color3" ng-model="checkModel.teams" btn-checkbox>Teams</button>
                    <button type="button" class="btn btn-default color3" ng-model="checkModel.subs" btn-checkbox>Subs</button>
                    <button type="button" class="btn btn-default color3" ng-model="checkModel.liveBars" btn-checkbox>Live Bars</button>
                    <button type="button" class="btn btn-default color3" ng-model="checkModel.nextFixtures" btn-checkbox>Next Fixtures</button>
                </div>
                    <button type="button" id="top-toggles" class="btn btn-default color3" ng-click="updateprefs()">Save</button>
            </span>
            <ul class="nav navbar-nav">
                <li><a href="/">Default</a>
                </li>
                <li><a href="/match">Match Mode</a>
                </li>
                <li><a href="#" ng-model="settingsToggle" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false">Settings</a>
                </li>
                <li><a href="#" ng-click="signout()">Sign Out</a>
                </li>
            </ul>
        </div>
    </nav>

    <div id="colourhome" class="sectional color1">
        <div class="container" id="colours-middle">
            <div class="row">
                <div class="col-lg-1" id="match-padd-div"></div>

                <div class="col-lg-3" id="match-live-graph">
                    <nvd3-line-chart data="livetargets" id="livetargets" margin="{left:0,top:0,bottom:10,right:0}" width="370" height="300" showXAxis="false" showYAxis="false" forcex="[1]" showLegend="true" color="colorFunction()">
                        <svg id="live-svg" viewBox="0 0 333 300" preserveAspectRatio="xMidYMid"></svg>
                    </nvd3-line-chart>
                </div>
                <div class="col-lg-3" id="match-live-graph">

                    <nvd3-line-chart data="liveshots" id="liveshots" width="370" height="300" margin="{left:0,top:0,bottom:10,right:0}" showXAxis="false" showYAxis="false" showLegend="true" color="colorFunction()" forcex="[1]">
                        <svg id="live-svg" viewBox="0 0 333 300" preserveAspectRatio="xMidYMid"></svg>
                    </nvd3-line-chart>
                </div>
                <div class="col-lg-3" id="match-live-graph">
                    <nvd3-line-chart data="livecorners" id="livecorners" color="colorFunction()" margin="{left:0,top:0,bottom:10,right:0}" width="370" height="300" showLegend="true" showXAxis="false" showYAxis="false" forcex="[1]">
                        <svg id="live-svg" viewBox="0 0 333 300" preserveAspectRatio="xMidYMid"></svg>
                    </nvd3-line-chart>
                </div>
                <div class="col-lg-1" id="match-padd-div"></div>
            </div>

            <div class="col-lg-3" style="padding-right: 5px;">
                <span ng-if="checkModel.liveBars">
                <table class="table color1">
                    <td>
                    <span class="bar-title">Possession</span>
                    <progress percent="possBar"></progress>
                    </td>
                    <tr>
                    <td>
                    <span class="bar-title">Shots</span>
                    <progress percent="shotsBar"></progress>
                    </td>
                    </tr>
                </table>
                </span>
                <table class="table color1">
                <td>
                <h2 ng-repeat="f in form" style="background-color: {{myColour}}" id="form-column">
                    {{f.form}}
                </h2>
                </td>
                <tr>
                <td>
                <span ng-if="checkModel.oppoform">
                    <h2 ng-repeat="f in otherform" style="background-color: {{otherColour}}" id="other-form-column">
                        {{f.form}}
                    </h2>
                    </td>
                    </tr>
                </span>
                <table class="table table-hover color1" id="scorers">
                    <tr>
                        <th>Name</th>
                        <th id="scorer-goals">Goals</th>
                    </tr>
                    <tr ng-repeat="s in scorers track by $index">
                        <td>{{s.player}}</td>
                        <td id="scorer-goals">{{s.goals}}</td>
                    </tr>
                </table>
            </div>

                <div class="col-lg-3" id="fix-and-table">
                    <span ng-if="checkModel.teams">
                        <div id="hometeam">
                            <div class="hometeam">
                                <h4>{{hometeamname}}</h4>
                            </div>
                        </div>
                        <div id="awayteam">
                            <div class="awayteam">
                                <h4>{{awayteamname}}</h4>
                            </div>
                        </div>
                        <table class="table table-hover color1" id="teams">
                            <tr>
                            </tr>
                            <tr ng-repeat="item in hometeam | limitTo:11">
                                <td>{{item.player}}</td>
                            </tr>
                        </table>
                        <table class="table table-hover color1" id="teams">
                            <tr>
                            </tr>
                            <tr ng-repeat="item in awayteam | limitTo:11">
                                <td>{{item.player}}</td>
                            </tr>
                        </table>
                    </span>
                    <span ng-if="checkModel.subs">
                        <table class="table table-hover color1" id="teams">
                            <tr ng-repeat="item in homesubs | limitTo:7" class="coloursubs">
                                <td>{{item.player}}</td>
                            </tr>
                        </table>
                        <table class="table table-hover color1" id="teams">

                            <tr ng-repeat="item in awaysubs | limitTo:7" class="coloursubs">
                                <td>{{item.player}}</td>
                            </tr>
                        </table>
                    </span>
                </div>

            <span ng-if="checkModel.leaguetable">
                <div class="col-lg-3" id="table-div">
                    <table class="table table-hover color1">
                        <tr>
                            <th>Team</th>
                            <th>Pl.</th>
                            <th>W</th>
                            <th>D</th>
                            <th>L</th>
                            <th>GD</th>
                            <th>Points</th>
                        </tr>
                        <tr ng-repeat="t in premtable" ng-class="{notmypremteam: t.team!=team}">
                            <td>{{t.team}}</td>
                            <td class="table-points">{{t.played}}</td>
                            <td class="table-points">{{t.won}}</td>
                            <td class="table-points">{{t.drawn}}</td>
                            <td class="table-points">{{t.lost}}</td>
                            <td class="table-points">{{t.difference}}</td>
                            <td class="table-points">{{t.points}}</td>
                        </tr>
                    </table>
                    <!-- <nvd3-line-chart data="liveposs" id="liveposs" interactive="true" tooltips="true" margin="{left:0,top:0,bottom:5,right:25}" width="500" height="400" showXAxis="false" showYAxis="false" showLegend="true"><svg id="poss-svg"></svg></nvd3-line-chart> -->
                </div>
            </span>
            <div class="col-lg-3" id="rightmostcol">
                <div class="livescores">
                    <p class="lead" id="colour-lead" ng-repeat-start="score in scores">{{score.teams}}
                        <span class="score">{{score.score}}</span>
                    </p>
                    <p ng-repeat-end=""></p>
                </div>
                <div class="livescores">
                <table class="table color1" id="bottom-table-next-fix">
                    <tr ng-repeat="nextfix in nextfixtures track by $index">
                        <td>
                        <p class="lead" id="colour-lead2">{{nextfix.home}} vs. {{nextfix.away}}
                        <br />
                        <span class="score">{{nextfix.date}}</span>
                        </p>
                        </td>
                    </tr>
                    </table>
                </div>
            </div>


        </div>
    </div>


</body>

</html>
